<div class="w-full max-w-6xl mx-auto p-6 bg-gradient-glow">
  <div class="flex justify-between items-center mb-6">
    <h1 class="text-2xl font-bold text-white text-glow-primary">
      Development Configuration
    </h1>
    <button (click)="openApplication()" class="inner-button flex items-center">
      <span>Open Application</span>
      <i class="pi pi-external-link ml-2 text-xl"></i>
    </button>
  </div>

  <!-- Loading state -->
  @if (loading()) {
  <app-loader />
  }

  <!-- Error state -->
  @if (error()) {
  <div
    class="glass border border-red-400 text-red-400 px-4 py-3 rounded-lg relative mb-6"
  >
    <span>{{ error() }}</span>
  </div>
  }

  <!-- Development configs display -->
  @if (!loading() && developmentConfigs() && !error()) {
  <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
    <!-- Frontend Section -->
    <div class="glass-card p-6 transition-shadow hover:shadow-lg">
      <div class="flex items-center mb-4">
        <i class="pi pi-desktop text-blue-500 mr-2 text-3xl"></i>
        <h2 class="text-xl font-semibold text-white">Frontend</h2>
      </div>
      <div class="space-y-3">
        <div class="flex">
          <span class="text-gray-300 font-medium w-1/3">Framework:</span>
          <span class="text-white"
            >{{ (developmentConfigs()?.frontend)!.framework }}</span
          >
        </div>
        @if (developmentConfigs()?.frontend!.frameworkVersion) {
        <div class="flex">
          <span class="text-gray-300 font-medium w-1/3">Version:</span>
          <span class="text-white"
            >{{ (developmentConfigs()?.frontend)!.frameworkVersion }}</span
          >
        </div>
        }
        <div class="flex">
          <span class="text-gray-300 font-medium w-1/3">Styling:</span>
          <span class="text-white"
            >{{ typeof (developmentConfigs()?.frontend)!.styling === 'string' ? 
                (developmentConfigs()?.frontend)!.styling : 
                getFeaturesList((developmentConfigs()?.frontend)!.styling) }}</span
          >
        </div>
        @if (developmentConfigs()?.frontend!.stateManagement) {
        <div class="flex">
          <span class="text-gray-300 font-medium w-1/3">State Management:</span>
          <span class="text-white"
            >{{ (developmentConfigs()?.frontend)!.stateManagement }}</span
          >
        </div>
        }
        <div class="flex">
          <span class="text-gray-300 font-medium w-1/3">Features:</span>
          <span class="text-white"
            >{{ getFeaturesList((developmentConfigs()?.frontend)!.features ||
            []) }}</span
          >
        </div>
      </div>
    </div>

    <!-- Backend Section -->
    <div class="glass-card p-6 transition-shadow hover:shadow-lg">
      <div class="flex items-center mb-4">
        <i class="pi pi-server text-green-500 mr-2 text-3xl"></i>
        <h2 class="text-xl font-semibold text-white">Backend</h2>
      </div>
      <div class="space-y-3">
        <div class="flex">
          <span class="text-gray-300 font-medium w-1/3">Framework:</span>
          <span class="text-white"
            >{{ (developmentConfigs()?.backend)!.framework }}</span
          >
        </div>
        @if (developmentConfigs()?.backend!.frameworkVersion) {
        <div class="flex">
          <span class="text-gray-300 font-medium w-1/3">Framework Version:</span>
          <span class="text-white"
            >{{ (developmentConfigs()?.backend)!.frameworkVersion }}</span
          >
        </div>
        }
        @if (developmentConfigs()?.backend!.language) {
        <div class="flex">
          <span class="text-gray-300 font-medium w-1/3">Language:</span>
          <span class="text-white"
            >{{ (developmentConfigs()?.backend)!.language }}</span
          >
        </div>
        }
        @if (developmentConfigs()?.backend!.languageVersion) {
        <div class="flex">
          <span class="text-gray-300 font-medium w-1/3">Language Version:</span>
          <span class="text-white"
            >{{ (developmentConfigs()?.backend)!.languageVersion }}</span
          >
        </div>
        }
        <div class="flex">
          <span class="text-gray-300 font-medium w-1/3">API Type:</span>
          <span class="text-white"
            >{{ (developmentConfigs()?.backend)!.apiType }}
            @if (developmentConfigs()?.backend!.apiVersion) {
              <span class="text-sm text-gray-400 ml-1">(v{{ (developmentConfigs()?.backend)!.apiVersion }})</span>
            }
          </span>
        </div>
        @if (developmentConfigs()?.backend!.orm) {
        <div class="flex">
          <span class="text-gray-300 font-medium w-1/3">ORM:</span>
          <span class="text-white"
            >{{ (developmentConfigs()?.backend)!.orm }} @if
            (developmentConfigs()?.backend!.ormVersion) {
            <span class="text-sm text-gray-400 ml-1"
              >({{ (developmentConfigs()?.backend)!.ormVersion }})</span
            >
            }
          </span>
        </div>
        }
        <div class="flex">
          <span class="text-gray-300 font-medium w-1/3">Features:</span>
          <span class="text-white"
            >{{ getFeaturesList((developmentConfigs()?.backend)!.features || [])
            }}</span
          >
        </div>
      </div>
    </div>

    <!-- Database Section -->
    <div class="glass-card p-6 transition-shadow hover:shadow-lg">
      <div class="flex items-center mb-4">
        <i class="pi pi-database text-purple-500 mr-2 text-3xl"></i>
        <h2 class="text-xl font-semibold text-white">Database</h2>
      </div>
      <div class="space-y-3">
        @if (developmentConfigs()?.database!.type) {
        <div class="flex">
          <span class="text-gray-300 font-medium w-1/3">Type:</span>
          <span class="text-white"
            >{{ (developmentConfigs()?.database)!.type }}</span
          >
        </div>
        }
        <div class="flex">
          <span class="text-gray-300 font-medium w-1/3">Provider:</span>
          <span class="text-white"
            >{{ (developmentConfigs()?.database)!.provider }}
            @if (developmentConfigs()?.database!.version) {
              <span class="text-sm text-gray-400 ml-1">(v{{ (developmentConfigs()?.database)!.version }})</span>
            }
          </span>
        </div>
        @if (developmentConfigs()?.database!.orm) {
        <div class="flex">
          <span class="text-gray-300 font-medium w-1/3">ORM:</span>
          <span class="text-white"
            >{{ (developmentConfigs()?.database)!.orm }}
            @if (developmentConfigs()?.database!.ormVersion) {
              <span class="text-sm text-gray-400 ml-1">(v{{ (developmentConfigs()?.database)!.ormVersion }})</span>
            }
          </span>
        </div>
        }
        <div class="flex">
          <span class="text-gray-300 font-medium w-1/3">Features:</span>
          <span class="text-white"
            >{{ getFeaturesList((developmentConfigs()?.database)!.features ||
            []) }}</span
          >
        </div>
      </div>
    </div>

    <!-- Project Config Section -->
    <div class="glass-card p-6 transition-shadow hover:shadow-lg">
      <div class="flex items-center mb-4">
        <i class="pi pi-cog text-yellow-500 mr-2 text-3xl"></i>
        <h2 class="text-xl font-semibold text-white">Project Configuration</h2>
      </div>
      <div class="grid grid-cols-2 gap-3">
        <div class="flex items-center">
          <span class="text-gray-300 font-medium mr-2">SEO:</span>
          <span class="flex items-center">
            @if (developmentConfigs()?.projectConfig!.seoEnabled) {
            <i class="pi pi-check-circle text-green-500 text-xl"></i>
            } @else {
            <i class="pi pi-times-circle text-red-500 text-xl"></i>
            }
          </span>
        </div>
        <div class="flex items-center">
          <span class="text-gray-300 font-medium mr-2">Contact Form:</span>
          <span class="flex items-center">
            @if (developmentConfigs()?.projectConfig!.contactFormEnabled) {
            <i class="pi pi-check-circle text-green-500 text-xl"></i>
            } @else {
            <i class="pi pi-times-circle text-red-500 text-xl"></i>
            }
          </span>
        </div>
        <div class="flex items-center">
          <span class="text-gray-300 font-medium mr-2">Analytics:</span>
          <span class="flex items-center">
            @if (developmentConfigs()?.projectConfig!.analyticsEnabled) {
            <i class="pi pi-check-circle text-green-500 text-xl"></i>
            } @else {
            <i class="pi pi-times-circle text-red-500 text-xl"></i>
            }
          </span>
        </div>
        <div class="flex items-center">
          <span class="text-gray-300 font-medium mr-2">i18n:</span>
          <span class="flex items-center">
            @if (developmentConfigs()?.projectConfig!.i18nEnabled) {
            <i class="pi pi-check-circle text-green-500 text-xl"></i>
            } @else {
            <i class="pi pi-times-circle text-red-500 text-xl"></i>
            }
          </span>
        </div>
        <div class="flex items-center">
          <span class="text-gray-600 font-medium mr-2"
            >Performance Optimized:</span
          >
          <span class="flex items-center">
            @if (developmentConfigs()?.projectConfig!.performanceOptimized) {
            <i class="pi pi-check-circle text-green-500 text-xl"></i>
            } @else {
            <i class="pi pi-times-circle text-red-500 text-xl"></i>
            }
          </span>
        </div>
        <div class="flex items-center">
          <span class="text-gray-300 font-medium mr-2">Authentication:</span>
          <span class="flex items-center">
            @if (developmentConfigs()?.projectConfig!.authentication) {
            <i class="pi pi-check-circle text-green-500 text-xl"></i>
            } @else {
            <i class="pi pi-times-circle text-red-500 text-xl"></i>
            }
          </span>
        </div>
        <div class="flex items-center">
          <span class="text-gray-300 font-medium mr-2">Authorization:</span>
          <span class="flex items-center">
            @if (developmentConfigs()?.projectConfig!.authorization) {
            <i class="pi pi-check-circle text-green-500 text-xl"></i>
            } @else {
            <i class="pi pi-times-circle text-red-500 text-xl"></i>
            }
          </span>
        </div>
        @if (developmentConfigs()?.projectConfig!.paymentIntegration !==
        undefined) {
        <div class="flex items-center">
          <span class="text-gray-600 font-medium mr-2"
            >Payment Integration:</span
          >
          <span class="flex items-center">
            @if (developmentConfigs()?.projectConfig!.paymentIntegration) {
            <i class="pi pi-check-circle text-green-500 text-xl"></i>
            } @else {
            <i class="pi pi-times-circle text-red-500 text-xl"></i>
            }
          </span>
        </div>
        }
      </div>

      <!-- Custom Options (if any) -->
      @if (developmentConfigs()?.projectConfig!.customOptions) {
      <div class="mt-4">
        <h3 class="text-gray-700 font-medium mb-2">Custom Options</h3>
        <div class="bg-gray-50 p-3 rounded">
          <pre class="text-sm text-gray-700 whitespace-pre-wrap">
{{ formatCustomOptions((developmentConfigs()?.projectConfig)!.customOptions) }}</pre
          >
        </div>
      </div>
      }
    </div>
  </div>

  <!-- Constraints Section -->
  @if (developmentConfigs()?.constraints &&
  developmentConfigs()?.constraints!.length > 0) {
  <div class="mt-8 glass-card p-6">
    <h2 class="text-xl font-semibold text-white mb-4 text-glow-primary">
      Constraints
    </h2>
    <ul class="list-disc list-inside space-y-1 pl-2">
      @for (constraint of developmentConfigs()?.constraints; track constraint) {
      <li class="mb-2 text-gray-300">{{ constraint }}</li>
      }
    </ul>
  </div>
  } }
</div>
